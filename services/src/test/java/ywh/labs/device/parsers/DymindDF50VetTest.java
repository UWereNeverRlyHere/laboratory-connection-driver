package ywh.labs.device.parsers;

import org.junit.jupiter.api.Test;
import ywh.services.data.models.ParsingResult;
import ywh.commons.ConsoleUtil;
import ywh.services.device.parsers.DymindDF50Vet;

import java.nio.charset.StandardCharsets;
import java.util.ArrayList;
import java.util.List;

import static org.junit.jupiter.api.Assertions.*;

class DymindDF50VetTest {

    @Test
    void shouldReturnCorrectParsingResult() {

        // 1. Парсер
        var parser = new DymindDF50Vet();

        // 2. Сюда будем собирать все вызовы listener’а
        List<ParsingResult> results = new ArrayList<>();
        parser.addResponseListener(results::add);

        // 3. Тестовое HL7-сообщение
        var hl7 = new StringBuilder()
                .append("\u000BMSH|^~\\&|LISClient|Lis Software|||20250525113105||ORU^R01|4a3730260e4c4d45b391eebd61c00a36|P|2.3.1||||||UNICODE\n")
                .append("PID|1|||||||||\tКошка\n")
                .append("PV1|1\n")
                .append("OBR|1||134894|01001^Automated Count^99MRC||20250525103520|20250525103520|||||||20250525103520||||||||||HM||||||||admin\n")
                .append("OBX|1|IS|02001^Take Mode^99MRC||O||||||F\n")
                .append("OBX|2|IS|02002^Blood Mode^99MRC||W||||||F\n")
                .append("OBX|3|IS|02003^Test Mode^99MRC||CBC+DIFF||||||F\n")
                .append("OBX|4|NM|30525-0^Age^LN|||yr|||||F\n")
                .append("OBX|5|IS|09001^Remark^99MRC||||||||F\n")
                .append("OBX|6|IS|03001^Ref Group^99MRC||Кошка||||||F\n")
                .append("OBX|7|NM|6690-2^WBC^LN||12,17|10*9/L|3,46-19,50|~N|||F\n")
                .append("OBX|8|NM|770-8^NEU%^LN||46,0|%|30,0-80,0|~N|||F\n")
                .append("OBX|9|NM|736-9^LYM%^LN||46,5|%|7,0-50,0|~N|||F\n")
                .append("OBX|10|NM|5905-5^MON%^LN||3,2|%|0,8-8,0|~N|||F\n")
                .append("OBX|11|NM|713-8^EOS%^LN||3,9|%|0,5-11,0|~N|||F\n")
                .append("OBX|12|NM|706-2^BAS%^LN||0,4|%|0,0-1,5|~N|||F\n")
                .append("OBX|13|NM|751-8^NEU#^LN||5,60|10*9/L|1,95-11,50|~N|||F\n")
                .append("OBX|14|NM|731-0^LYM#^LN||5,66|10*9/L|0,73-7,86|~N|||F\n")
                .append("OBX|15|NM|742-7^MON#^LN||0,39|10*9/L|0,06-0,98|~N|||F\n")
                .append("OBX|16|NM|711-2^EOS#^LN||0,48|10*9/L|0,06-1,93|~N|||F\n")
                .append("OBX|17|NM|704-7^BAS#^LN||0,04|10*9/L|0,00-0,15|~N|||F\n")
                .append("OBX|18|NM|789-8^RBC^LN||11,53|10*12/L|5,00-11,50|H~A|||F\n")
                .append("OBX|19|NM|718-7^HGB^LN||198|g/L|85-175|H~A|||F\n")
                .append("OBX|20|NM|4544-3^HCT^LN||51,7|%|26,0-47,0|H~A|||F\n")
                .append("OBX|21|NM|787-2^MCV^LN||44,8|fL|36,0-50,0|~N|||F\n")
                .append("OBX|22|NM|785-6^MCH^LN||17,2|pg|11,8-18,0|~N|||F\n")
                .append("OBX|23|NM|786-4^MCHC^LN||383|g/L|290-400|~N|||F\n")
                .append("OBX|24|NM|788-0^RDW-CV^LN||17,8|%|16,0-30,0|~N|||F\n")
                .append("OBX|25|NM|21000-5^RDW-SD^LN||31,6|fL|27,0-55,0|~N|||F\n")
                .append("OBX|26|NM|777-3^PLT^LN||358|10*9/L|100-518|~N|||F\n")
                .append("OBX|27|NM|32623-1^MPV^LN||13,3|fL|7,5-14,0|~N|||F\n")
                .append("OBX|28|NM|32207-3^PDW^LN||14,7|fL|0,1-30,0|~N|||F\n")
                .append("OBX|29|NM|11003^PCT^99MRC||0,475|%|0,000-0,800|~N|||F\n")
                .append("OBX|30|ED|12003^WBC Histogram. BMP^99MRC||^Image^PNG^Base64^iVBORw0KGgoAAAANSUhEUgAAAJwAAABvCAIAAACW3D6tAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAsTAAALEwEAmpwYAAADaUlEQVR4nO3dMWgTYRiA4a+S4QaHf+iQQpeCS8ShBx080MGUCqY4WHApKEhwKAGhxApS3IqC6FIySe2mg9AKQlKwtA7CRQicg9AOSiJEuEKHP4NDwcI5HFiN1drSXMjn+wwluQuXS958d0lbiAgAAAAAAAAAQLtnz59lx7Lx5eJMcWNz48cqv+pnx7JhMwybYb1RD94HhalCvMpxnNJ8KWyGdtsGtcAdcbuw6/iT2Xuzc/fn4stBLQhqgXfWE5H0YDpshu6wW/9YN8YYYzJnMmEzjPutvV4rzZccxxGRiSsT1lrTb7r4KP5zqbbr62/WHz94LCKm30hKni4+Hc+NV99Vsxey5dVyfJtWqxX/3NjcGBgYkBE5nTk9enE0Xrv8ctk56TgpJ8FHgb9Lid22kpLJa5OPHj4aOjUU1AIRWVhcmLg64Q671trSfKk0X1paXipXypKS/M380oulbu839pxoX7Arfs33RrzxS+OVlUrjU8P0G2NM9nx2fXVdRHZ2dvya79d8/62fyWRyYzmGsgcUp4vFmWK9UY+PzQtPFgpTBb/qi0h8Tv1xy/yNfLlS9s56Py8Ukdm7s945L9m9xp7fJlWkslrJX89vftiUXRGRykqlcKsQj+kvUuKd9xqfG9V31dbXVnG6GC92R9zbd25vfdnq7I7jsOy23fu4ctKJvkXxe2B32I2iyFprt621tvyqHL/LTQ+m/apfb9SDWhA2w9zlXDf3HsfIGJMeTHd7LwAAAI5JX9v1KIr6+toXxssPven9toME7PM5Fb2OqAoRVSGiKkRUhYiqEFEVIqpCHYx6hN9X4FgwqQoRVSGiKkRUhYiqEFEVIqpCRFWIqAoRVSGiKkRUhYiqEFEVIqpCRFWIqAoRVaF/iso/pvQWJlUhoirU2agct7uCSVWIqAoRVSGiKkRUhYiqEFEVIqpCRFWIqAoRVSGiKkRUhToelT/UJI9JVYioChFVoYOjclLsOUyqQkRVKImoHMATxqQqRFSFiKoQURVKKCrvlZLEpCpEVIWIqtABUY/xXMhpNTFMqkJEVSjRqByBk8GkKpR0VIY1AX+L2qEAdO207hx+oygibeek/rQigSf997uIv5v+5+V8W/0RtD9lDFDX9cbruBMvlP95mwfiI41CRAUAAAAAAAAAoAd8B7buIqpCIYJeAAAAAElFTkSuQmCC||||||F\n")
                .append("OBX|31|ED|12053^RBC Histogram. BMP^99MRC||^Image^PNG^Base64^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||||||F\n")
                .append("OBX|32|ED|12103^PLT Histogram. BMP^99MRC||^Image^PNG^Base64^iVBORw0KGgoAAAANSUhEUgAAAJwAAABvCAIAAACW3D6tAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFLklEQVR4nO3dv2sbZxgH8MdGww0e3oCG81DQgYcIOviC/wFrTPBgmXSwyWQ6FJHBlulQMqVOp6RL4g4hboYiDSmSoRBnCLoMLqchRRpspIKDLqDCGWzQDQLfYLgO5wrXOPr5vnenV98PHqz4/Lwv973n7pE8hAgAAAAAAAAAAAAAJoaW0OymbTfthtVoHDdy+RyLs+TtZMkodY7J5XP+MZ2v7EY2xD1DD8nbSdu2mS/OXv36KpfP6fN647jROUZRFMaYPq93jlQUJcQ9gy/W/ceO4/jf5H/Lv/jlxbWfuq7ruq7Tdq4eCaHrEaqW0IhImVGyG1nzwAxkSzCqbqGqcbWwV6ALcl3XLJuPHj9KziUD2xkMrVuoJ2cnd/Q7gW0FeJkOewPA38ChanNa6z+FNwURewIAAAAAuMbjU+b69Ot5nArDoPid+H7f0oxv2OO786Hhw4do4HrhIdQI4H0rQagS6jfUqakpofsQJ+o7F/DER6dKCNNvqMRsDZ0aHmEXG0KVEEINichnAqZfCaFTwyB4dMP0KyF0auDEX2MIVUIINViBPAow/UoInRqgoCY2TL8SQqcGJcBLC6FKCKEGItgnAKZfCaFTxQt8UMP0K3r5ENZEp0oIoYoU0j0CoUoI068w4T3K0alihDqcYfqVEDpVgLCvIoQqIYTKW9htSph+pYRO5SoCbUqYfqWETuUnMhcPQuUkMokSQpUSpl8eotSmhE6VEqbf0RcQW34I6NTRRC9RQqgjiWSihFCHF9VECdOvlNCpQ4lwmxKm36Eqcq7HHTp1QJFPlBDqYMYhUer5vzLCpTGJ04fptw9jlSjh9tvbuCVKmH57/TK/fQQIz9QvGM84fbj93mScEyV06nVjHqev31Dln36liNOHTpUqTt+kTr/elS/pTFKnypjfjeQN1fvC9xNgzEOdsLT6FLHpV0BIUzSuc/vQwutUNJkw/Ybqed6QzRp2eB55k9asnDo17OTgqsFDRX6Rd/2+NL4fMkgj/E9kB70IcDzf42+EP71JCKECAITp7tJds2xWPlbS99Oi1ohRySixOBOxYuZhplKt1A5r24+3BdWvHdauVhNxxnL5XOu0lXmYKRmlUWupqtqwGizOGGON44aW0Hjs8H+0hFYySp7nqarKfcXUYqp2WFNmFEVRzANz9cEq3/r6gl6r15QZhcWZbduqqoo4Y4qinJ+fU4z0eb1x3Bil1DQRrSyv7L/bd84cx3GKe8X0Mv9m3f5pe+f5zsk/J/5Lvivap/b6d+tu23Vd1yybWkLjW9/6ZN1buue2XefMOW+f32K3RJyx3Ze7Skx5+8fb0UtNE9HsV7N20/ZfW01L0/h36trqWnGv2HnJd8X6Ub38Z5mIVFVde7BW3Cvyre84jvXJSi+nKx8rxgej/nddxBnLbGactrPyzcropS7f0rgX7uU/XAT0lxvuK2oJzfhgZL/P1o/qIupXq9WtH7ZSi6nUYkpEfdd1ichtuz2P7ClGRK3T1uzsrP/af2yMXrc77ivqC3rh98LW5pZ/P+Bb339aW58t67O183InfT9tHVsBn7GBJb9O1g5r/vdm2dQXdEEL2U3bH5T4rqglNLtpXy3Ct/76t+udR13hTSG7kRVxxpQZpdVqEXEYlGJEVD+q77/br1QrdEHGgVH9qzr6Frvju2J2M6uqqvHe8F8+/fnpkx+fcKy/+3o3vZQ2y6YSUyzLevb8GV2Q0DOmzWl+wERkvDeGf9Ayxhhj3PYVgRX51mdx1nmTLaI+QDf/Al2XofCkLaxbAAAAAElFTkSuQmCC||||||F\n")
                .append("OBX|33|ED|12151^WBC DIFF Scattergram. LS-MS BMP^99MRC||^Image^PNG^Base64^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||||||F\n")
                .append("OBX|34|ED|12152^WBC DIFF Scattergram. LS-HS BMP^99MRC||^Image^PNG^Base64^iVBORw0KGgoAAAANSUhEUgAAAJIAAACSCAIAAAAhGQTZAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAM0ElEQVR4nO2dz2sb6RnHPyk5zIIXxqCADC5YJQtW6CFeWmgLe1iXLDSlhbinJuSyP05NDVtr9QeUPYmhB+3kpviyyAtdkgUXu+DgvQSchYK8sMUOeLECNkzAghGsQQNbUA/zQ6P5pZEiyZb9fDDDzDvvjMbzned5n/fXDAiCIAiCIAiCIAiCIAiCIAjCYOTn89tfbwcSl+4s7e3vmSemcWSsfLLS+ywlDaCsdzbLOiXNWUk+qudpJ4rcXM44Mowj47B+uPfdnvYPTZlS7F2HB4fKlKJmVDuD97dwcyEyseu87Xbbv7lwc+Hw4NCfomZU88TMz+ft9b39vdt/uB17mZF3NiBVIM8EipGe/HzeMAxVVVVVzV3PPX7y+PGTx/au9o9tVVWz2SwlTfUBZLPZ1g+tQGIXPWXLXc+ZJ6Z35MIvFvI/z4/on7x42LJ5m4qimKaZm8vhk631QytwVGQicDX9D9e/rz/6/JFxZGw+3dx5tlP9svrq+FWPY0oaxUL6n7g8WJa1/9/9hYWF+su6l6goyqd//9Rer+3Wnnz1JC7xJ339WOFvhVw+t/nvzbd/+fb+d/uLtxY7+yJdnGjWD9b/LOPEsP+ap82ExA49neTiu4tLd5a8zbv3725sbiRdhR16JOy9TAScJFcxTTN3fUAn2Ye1tX5sPSw/tN0xcOOtG8axkXRAsRC0Nr9UCbsuOoqiaCWttlurf1/vnTuZsLW1223T5fE/HwMrH6+Yprm3v2ccGdtb22omFNgIMeTn84H76d29AaytQ0C2WK6Snc1GRKJj5jJZZxJpZUNu2XmiD9mEs6a/CoBwThDZJpKhyiZl3viRsm2CGL2TFBMcKaO1NhFvRAwum0hyhoyjbEvo0RYGQ6xtIhmCtaXUz84mYg+F0TrJM3GPl+HJkHrbBDHGxq3L8OyPnwGtLW7kgYg0HsbkJEXO4TK4tY3hECGO/mSLc4wiyZjp29o8hcamljwTYfqTza6HBSrO/k2xvFEyaAVg+UFnPTDisViQtsdR079sfhtSlK4Ue+BfSesSVRgBfUzdcPDblmVR1h2RyjqNptjZeBjISfoNbvmBM9PQsgAsi+UHTgZP4EDhJwyRVCFJeCJhYL6oP1QJ50+JqNuLfqzNP1ktcGctq5OyWnEyDDy5TaZXpWcQa7Mp686fOMNxccVba7fbV65cScjawV902Sa1WuHUYkrh1MKyIsxFppUOlT5lC9z9su5EIgEUBctylkCxILKNitftAfDeWeH3lj0PEV6TvidKyU0/Dwytm1TkHCdJsoXNy1YrUG9L03wsXeHD5XW7SUfUjyOKJjN4SBJoIhFGz6AdN34j8OoA0vA/LgaqbofxVJTK2ZiR4a0TxOsNbx1FvCAxSF/0rgCE18eAqJjMEAbcCeNngsu2y/wMTbBsl48Rz7gZQaPzJbasKAaxNhnDeubI3O0Jov9xkvh0svuvR9N5rYG0uMQx0KjkjIqikFE7jZC2ckM1O9EsgX7aJNeqTKkAL+ssP2C3xm6NRpOMSqPZGRFEdMukWM8Q6cfajg2uTaMozOc5OOTEBFAUGu5bzuM1QzQbKumsraShKGSmHWv76QzzeRSFL9b45a959jWNJorS1XHTZ2knttgXqWXLqLyzSGYaQFX5dtdR7rOHAFNKx0/2g6g1GCmcpO36MjNcz6Gq2O8kv7ngzJL661/ITHf8ZJ+IZoORQraMyuwM7/wmeq/dtZ1RRxFMekjFMEAv2UoajSZWi4QX/2eyTs5h453xdYyy52VN4jPRS7ZigYxKZiYpj21wts/sVbz1dY8Kw7inPSWfREedztoSPq9n1wriZmyE6JlD863ovvxaSEIttBK594IT2ya5voFp0m5H/7VabG1XqHQKNt8HLONudHBXlIPVfFJFHjiAMBdQy2jZyjrrGzVqbaI0261xZLC1bd93DXcZI5uH/9ZroU0nQ1kPy9ZTs3B6wqPTL+dR9WjZShrrG7GmZpqsVVmtUNI0NGeZAk+MOBkqAARGy3p59JD9hY2SqAxpriryes4bKSoAjc5H2tqB6vipxbGhv2/pRaVQVigWCsRWA/x3tuAuZ0K7KqBBEzRQfOl+HvjSdV+2QsxzUEgXdxRi1s81cU5ym212a/7irU2bVosjg4NDViv+MeQajtnFGUoY3bOGtaruZta7DU4LGaiX3nVy3+OipTay5MsbJ4NcRmxIUtIOOYx0khts2Bn87jHsJ8Oli9+wdHdJtzw6VH3HVrvPZues+OQJu7jJ0qwvejnJtSrws90mYF5pYvvJ41c8/ZrPHv5+HUAruu//AaDgOphAZdnZLGne5oeggjeJuAoK+Gv1JgA66NBytSngWFUBmj4HWAj9YtfvuoRFmhh/6COxKbmkaUUK63mAfJ7ZGSyrNl03MX97kOM/zwH9rmlhFcpdzf86WFBwbcgWpuCmAwo8KGlasVDwtSZ7mZXu0qsQ1ZngLyO9Um0SBXhdEpwkqxVMs0WLg8Mq1W22KWk6uvMKEtsxupFIdDBZ0vBHgKEagk5XuK+FwkWP2BLrcg5piZRNQ9PRWd8wMdna5vkOa1W2tsGtVpe6Dwjdu3CdLJwhHHHgGp/u2+U/YcLZ+qVnXfBcE1dv09BYrbBb4/kOR4ZjYWUdx0SiIxEteJIgeujWR4YVDjLhMY7Y6jawvkFZ19HZ2rbXATv0d9RKcVsTnmUvsPT/bk8jSB/fX2TiZKtQYX2D1UqNGquVKlU77rf9p07oLSROCde1mZ4EkYQIImVzhFmrskqVapWqU79O77VK8c6zT0S5CAKyeWWVjk5Zr1ChDGV9hx3W6LhHJ0Tsfh9havo6oK9K9GUhLpL0YkXbH9oRio5OGeh+r8Wqr3gqh08VvZ6cmJ5LJWeKkVslKsXKG7xxb7VFo6kVmWHmXtkEnK5R22FallbsNJH40dAi03tySWvQfRFhbSUoQ9nuvnEtr0yFCiXPMdo5XYfprPT4rUtlGaMgjbVpUCDjbs7CCwCm4NRdLkMJiu4ymTR5hER6yVaGZSjDHDSg4Woz62aYgpcwBQ1A9BgTvXoALCjBMrxwhfHbyhS8gDk4BcXtrwzQy2EKA9BzwB0AZZiHDCiQgVXIuW31nlSW5mhM91LsbwT0cpK2ba1BAzLQcG0LsCADeTiFfTf/3Xi1pEgbHinKNtuq5uAUMpCDBpwAcA3qkINngMbNAu+N68IvN71kW3NjRTuSbLhGdg323UgSyMBLd1dDrGrkJJZtJTiGF5CDNyEHwC1owD68AxnXYdpLBU5Fs3EQP+W+BApYcAtuwjcAZOALuAN1OAXLF/ojgo2PeGvzNLDgGH4FwC34CL6CN2HXjfvtCLMY0Q4JUgEYCfGy2bd7NrRU4Rb84FrbXXjfzq8543sCOokJjoDkkVtwE67BTV9i020uqcOxmyjajJf4sq0MGbgVSldBdWNLu1RbHtnVCTHEW5sdktzvHnDq5xtQ4CngBi+KSDgmEl/eNBWvGTAPX4lUZ0NMSGKHFXfij/sWnrnV7bURXJeQSIxsRbfhI455UNwGlEZgn3SCjpxEazuJP+6pG0/idsh5R8lAgtETH5Kswyn8Oea4f7m26P/qnlQDxkVive0Arndntytqu66p2Z1tkxGSXNDxRN1DgCqU4DkcQAtMMOE57EIZ1t1c0nB1RsRVAD4EOIETmHXbROyUKfgjrMGxeMUzI85JVuANtu7xJuz7utNmwXJbI0WzsyOuKdmCPO8dOqXXC7eZ3244ttzxW8IZEXaSdq1rGvLwhCO3UwZ3tKtodq7whSQ6bMAOGLBBGXwzAYDQlM8EpOo9EiLLNh3+BIABJtTBfsvnRQygJ5PISNKCLAB12IdpJ7CEC1v7mTQiQ5J8aMWbF++9/cPvHsUTnh1u2aZBC9rQhkNoBSZVC+eBSGvz2hlz0ASr+zVKwnnCF0m2fX87QIqIURgrYWsLWJVd37ZC2caM2HoXPd8naZ4PU7uw4Wt2NlvbrflTDuuHypQCLN1Z2tvfM09M48hY+WQl+njXSVa6naT3ZjkPefCHSW4uZ5qmP6XdbquqqmZU88TMz+cBNaPu7e/d9r1oPFxv+6B7c6f7SRfNxsS0Og0Yrwyg2Wjeu3/PsjpFVVi2ujtHA3gFu91V7DhnJdXwwVGn1OpaNZBY/77+6PNHxpGx+XRz59lO9cvqq+NXEQfLl4DPhNxcrvVD6/bvbnt/tpO092Znsx989EF1rWqa5uKtxYjjRbYzIa5sW3x3cenOkpd49/7djc0Nb3PEH3AWBqX1Y+th+WFuzimwbrx1wzg2IvKJtZ0JcdYGrHy8Yprm3v6ecWRsb22rmagh4iLbeeQq2dmsmvA5L5FtgpCybSLp6t0+w+sQgB4f0BYEQRDS8X/LYETslThwqQAAAABJRU5ErkJggg==||||||F\n")
                .append("OBX|35|ED|12153^WBC DIFF Scattergram. HS-MS BMP^99MRC||^Image^PNG^Base64^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||||||F\n")
                .append("OBX|36|ED|12154^BASO Scattergram. LS-MS BMP^99MRC||^Image^PNG^Base64^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||||||F\n")
                .append("\u001C");

        parser.parse(hl7.toString().getBytes(StandardCharsets.UTF_8));

        /* ---------- then ---------- */
        assertEquals(1, results.size(), "Ожидаем только один ParsingResult");

        ParsingResult res = results.getFirst();
        assertNotNull(res.data(), "data не должна быть null");
        assertTrue(res.ack().length > 0, "ACK должен быть сгенерирован");
        assertEquals(25,res.data().getData().size());
        assertEquals(7,res.data().getImages().size());
        assertEquals("134894",res.data().getId());
        assertEquals("2025-05-25T10:35:20",res.data().getDate());
        ConsoleUtil.printBlue(new String(res.ack(), StandardCharsets.UTF_8).replace("\r","\n"));
        ConsoleUtil.printGreen(res.data().getId().get());
        ConsoleUtil.printGreen(res.data().getDate().get());
        res.data().getData().forEach((key, value) -> {
            ConsoleUtil.printYellow(key + " : " + value);
        });

    }

}